import{_ as T,u as N,r as _,o as V,m as $,g as F,a as c,c as n,d as t,k as h,t as o,h as f,w as b,F as k,n as B,b as P,q as O,S as R,p as j,l as z,U as y}from"./index-ec75d884.js";const l=d=>(j("data-v-4bc95ae1"),d=d(),z(),d),M={class:"container-fluid bg-light min-vh-100 p-5 c"},E={class:""},U={class:"d-flex align-items-center justify-content-between"},q=l(()=>t("h2",{class:"py-2"},"Perfil y movimientos",-1)),L={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},A=l(()=>t("span",{class:"visually-hidden"},"unread messages",-1)),G=l(()=>t("i",{class:"bi bi-box-arrow-right"},null,-1)),K=l(()=>t("small",{class:"mx-2"},"Salir",-1)),Y=[G,K],Z=l(()=>t("i",{class:"bi bi-house-door-fill"},null,-1)),H={class:"wrapper p-5 bg-white cc"},J=l(()=>t("h4",null,"Shopping list",-1)),Q={key:0},W={class:"bg-info px-2 mx-2"},X={class:"table-responsive bg-light p-3 my-2"},tt={class:"table p-3"},et=l(()=>t("thead",{class:"thead-dark"},[t("tr",null,[t("th",{scope:"col"},"ID"),t("th",{scope:"col"},"OrderID"),t("th",{scope:"col"},"Name"),t("th",{scope:"col"},"PayPal"),t("th",{scope:"col"},"Description"),t("th",{scope:"col"},"Price"),t("th",{scope:"col"},"Size")])],-1)),st={class:"text-truncate"},ot={class:"text-truncate"},at={class:"text-truncate"},ct={class:"text-truncate"},nt={class:"text-truncate"},lt={class:"text-truncate"},it={class:"text-truncate"},rt={key:1},dt={class:"wrapper p-5 bg-white my-3 cc"},_t=l(()=>t("h4",null,"Sale items",-1)),ht={key:0},pt={class:"bg-info px-2 mx-2"},ut={class:"table-responsive bg-light p-3 my-2"},mt={class:"table p-3"},ft=l(()=>t("thead",{class:"thead-dark"},[t("tr",null,[t("th",{scope:"col"},"ID"),t("th",{scope:"col"},"Name"),t("th",{scope:"col"},"PayPal"),t("th",{scope:"col"},"Description"),t("th",{scope:"col"},"Price"),t("th",{scope:"col"},"Size")])],-1)),bt={class:"text-truncate"},yt={class:"text-truncate"},vt={class:"text-truncate"},xt={class:"text-truncate"},gt={class:"text-truncate"},wt={class:"text-truncate"},St={key:1},kt={__name:"PerfilView",setup(d){const v=N(),p=_(""),u=_([]),m=_([]),x=_(0);V(P,a=>{a?p.value=a.email:v.push({name:"home"})}),$(()=>{p.value&&D(p.value)});const D=a=>{let i=a;fetch(`${y}reporte.php`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"consulta=true&email="+i}).then(s=>s.json()).then(s=>{x.value=s.total}),fetch(`${y}venta.php`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"email="+i.trim()}).then(s=>s.json()).then(s=>u.value=s),fetch(`${y}compra.php`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"email="+i.trim()}).then(s=>s.json()).then(s=>m.value=s)};function g(a,i=2){if(!+a)return"0 Bytes";const s=1024,e=i<0?0:i,r=["Bytes","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],S=Math.floor(Math.log(a)/Math.log(s));return`${parseFloat((a/Math.pow(s,S)).toFixed(e))} ${r[S]}`}const w=a=>`${new Date(parseInt(a))}`.slice(0,24),C=()=>{O(P).then(()=>{setTimeout(()=>{v.push({name:"home"})},1e3)}).catch(a=>{alert(a)})},I=()=>{R.fire({icon:"info",title:"Sobre reportes",html:`
            <div class='py-3'>
                <p class='lead'>
                    Si su cuenta es bloqueada por estafa no podr치 usar el actual correo electr칩nico para vender sus trabajos por medio de esta plataforma y su direcci칩n IP ser치 restringida.
                </p>
            </div>
        `,showConfirmButton:!1})};return(a,i)=>{const s=F("router-link");return c(),n("div",M,[t("div",E,[t("div",U,[q,t("span",null,[t("button",{type:"button",class:"btn position-relative mx-3",onClick:I},[h(" Reports "),t("span",L,[h(o(x.value)+" ",1),A])]),t("button",{class:"btn border",onClick:C},Y)])]),f(s,{to:"/",class:"btn"},{default:b(()=>[Z]),_:1}),t("div",H,[J,m.value?(c(),n("p",Q,[(c(!0),n(k,null,B(m.value,(e,r)=>(c(),n("details",{key:r},[t("summary",null,[t("b",null,o(e._filename),1),t("small",W,o(w(e.hash_id)),1)]),t("div",X,[t("table",tt,[et,t("tbody",null,[t("tr",null,[t("td",st,[f(s,{to:"/file/"+e.hash_id},{default:b(()=>[h(o(e.hash_id),1)]),_:2},1032,["to"])]),t("td",ot,o(e.orderID),1),t("td",at,o(e._filename),1),t("td",ct,o(e._email_paypal),1),t("td",nt,o(e._description),1),t("td",lt," $ "+o(e._price)+" USD",1),t("td",it,o(g(e._size)),1)])])])])]))),128))])):(c(),n("p",rt,"No history"))]),t("div",dt,[_t,u.value?(c(),n("p",ht,[(c(!0),n(k,null,B(u.value,(e,r)=>(c(),n("details",{key:r},[t("summary",null,[t("b",null,o(e._filename),1),t("small",pt,o(w(e.hash_id)),1)]),t("div",ut,[t("table",mt,[ft,t("tbody",null,[t("tr",null,[t("td",bt,[f(s,{to:"/file/"+e.hash_id},{default:b(()=>[h(o(e.hash_id),1)]),_:2},1032,["to"])]),t("td",yt,o(e._filename),1),t("td",vt,o(e._email_paypal),1),t("td",xt,o(e._description),1),t("td",gt," $ "+o(e._price)+" USD",1),t("td",wt,o(g(e._size)),1)])])])])]))),128))])):(c(),n("p",St,"No history"))])])])}}},Pt=T(kt,[["__scopeId","data-v-4bc95ae1"]]);export{Pt as default};
